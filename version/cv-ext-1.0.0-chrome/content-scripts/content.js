var content=(function(){"use strict";function M(n){return n}const g={matches:["<all_urls>"],registration:"runtime",main(){const n=document.createElement("style");n.textContent=`
      .__cv_ext_hover {
        outline: 2px solid #3b82f6 !important;
        outline-offset: 2px !important;
        cursor: crosshair !important;
      }
      .__cv_ext_selected {
        outline: 2px solid #22c55e !important;
        outline-offset: 2px !important;
        background-color: rgba(34, 197, 94, 0.08) !important;
      }
    `,document.head.appendChild(n);let t=!1,e=null;const r=new Map,a=new Set(["SPAN","A","STRONG","EM","B","I","U","CODE","SMALL","SUB","SUP","MARK"]);function m(o){let i=o;for(;i.parentElement&&a.has(i.tagName);)i=i.parentElement;return i}function b(o){return(o.innerText||o.textContent||"").replace(/\s+/g," ").trim()}function w(o){for(const[i,s]of r)if(s===o)return i}function v(o){if(!t)return;const i=m(o.target);e&&e!==i&&e.classList.remove("__cv_ext_hover"),i.classList.contains("__cv_ext_selected")||i.classList.add("__cv_ext_hover"),e=i}function E(o){if(!t)return;m(o.target).classList.remove("__cv_ext_hover")}function _(o){if(!t)return;o.preventDefault(),o.stopPropagation();const i=m(o.target);i.classList.remove("__cv_ext_hover");const s=w(i);if(s)i.classList.remove("__cv_ext_selected"),r.delete(s),chrome.runtime.sendMessage({type:"ELEMENT_DESELECTED",payload:{id:s}});else{const f=crypto.randomUUID();i.classList.add("__cv_ext_selected"),r.set(f,i),chrome.runtime.sendMessage({type:"ELEMENT_SELECTED",payload:{id:f,text:b(i)}})}}function x(){t=!0,document.addEventListener("mouseover",v,!0),document.addEventListener("mouseout",E,!0),document.addEventListener("click",_,!0)}function N(){t=!1,e&&(e.classList.remove("__cv_ext_hover"),e=null),document.removeEventListener("mouseover",v,!0),document.removeEventListener("mouseout",E,!0),document.removeEventListener("click",_,!0)}function A(){for(const[,o]of r)o.classList.remove("__cv_ext_selected");r.clear()}chrome.runtime.onMessage.addListener((o,i,s)=>{switch(o.type){case"START_SELECTION":x();break;case"STOP_SELECTION":N();break;case"CLEAR_SELECTIONS":A();break;case"PING":return s({type:"PONG"}),!0}})}};function l(n,...t){}const p={debug:(...n)=>l(console.debug,...n),log:(...n)=>l(console.log,...n),warn:(...n)=>l(console.warn,...n),error:(...n)=>l(console.error,...n)},h=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;var T=class S extends Event{static EVENT_NAME=u("wxt:locationchange");constructor(t,e){super(S.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=e}};function u(n){return`${h?.runtime?.id}:content:${n}`}function L(n){let t,e;return{run(){t==null&&(e=new URL(location.href),t=n.setInterval(()=>{let r=new URL(location.href);r.href!==e.href&&(window.dispatchEvent(new T(r,e)),e=r)},1e3))}}}var C=class c{static SCRIPT_STARTED_MESSAGE_TYPE=u("wxt:content-script-started");id;abortController;locationWatcher=L(this);constructor(t,e){this.contentScriptName=t,this.options=e,this.id=Math.random().toString(36).slice(2),this.abortController=new AbortController,this.stopOldScripts(),this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return h.runtime?.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,e){const r=setInterval(()=>{this.isValid&&t()},e);return this.onInvalidated(()=>clearInterval(r)),r}setTimeout(t,e){const r=setTimeout(()=>{this.isValid&&t()},e);return this.onInvalidated(()=>clearTimeout(r)),r}requestAnimationFrame(t){const e=requestAnimationFrame((...r)=>{this.isValid&&t(...r)});return this.onInvalidated(()=>cancelAnimationFrame(e)),e}requestIdleCallback(t,e){const r=requestIdleCallback((...a)=>{this.signal.aborted||t(...a)},e);return this.onInvalidated(()=>cancelIdleCallback(r)),r}addEventListener(t,e,r,a){e==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),t.addEventListener?.(e.startsWith("wxt:")?u(e):e,r,{...a,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),p.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){document.dispatchEvent(new CustomEvent(c.SCRIPT_STARTED_MESSAGE_TYPE,{detail:{contentScriptName:this.contentScriptName,messageId:this.id}})),window.postMessage({type:c.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:this.id},"*")}verifyScriptStartedEvent(t){const e=t.detail?.contentScriptName===this.contentScriptName,r=t.detail?.messageId===this.id;return e&&!r}listenForNewerScripts(){const t=e=>{!(e instanceof CustomEvent)||!this.verifyScriptStartedEvent(e)||this.notifyInvalidated()};document.addEventListener(c.SCRIPT_STARTED_MESSAGE_TYPE,t),this.onInvalidated(()=>document.removeEventListener(c.SCRIPT_STARTED_MESSAGE_TYPE,t))}};function R(){}function d(n,...t){}const I={debug:(...n)=>d(console.debug,...n),log:(...n)=>d(console.log,...n),warn:(...n)=>d(console.warn,...n),error:(...n)=>d(console.error,...n)};return(async()=>{try{const{main:n,...t}=g;return await n(new C("content",t))}catch(n){throw I.error('The content script "content" crashed on startup!',n),n}})()})();
content;